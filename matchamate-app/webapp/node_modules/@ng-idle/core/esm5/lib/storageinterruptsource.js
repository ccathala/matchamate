import { __extends } from "tslib";
import { WindowInterruptSource } from './windowinterruptsource';
/*
 * An interrupt source on the storage event of Window.
 */
var StorageInterruptSource = /** @class */ (function (_super) {
    __extends(StorageInterruptSource, _super);
    function StorageInterruptSource(throttleDelay) {
        if (throttleDelay === void 0) { throttleDelay = 500; }
        return _super.call(this, 'storage', throttleDelay) || this;
    }
    /*
     * Checks to see if the event should be filtered.
     * @param event - The original event object.
     * @return True if the event should be filtered (don't cause an interrupt); otherwise, false.
     */
    StorageInterruptSource.prototype.filterEvent = function (event) {
        if (event.key &&
            event.key.indexOf('ng2Idle.') >= 0 &&
            event.key.indexOf('.expiry') >= 0) {
            return false;
        }
        return true;
    };
    return StorageInterruptSource;
}(WindowInterruptSource));
export { StorageInterruptSource };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmFnZWludGVycnVwdHNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuZy1pZGxlL2NvcmUvIiwic291cmNlcyI6WyJsaWIvc3RvcmFnZWludGVycnVwdHNvdXJjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFaEU7O0dBRUc7QUFDSDtJQUE0QywwQ0FBcUI7SUFDL0QsZ0NBQVksYUFBbUI7UUFBbkIsOEJBQUEsRUFBQSxtQkFBbUI7ZUFDN0Isa0JBQU0sU0FBUyxFQUFFLGFBQWEsQ0FBQztJQUNqQyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILDRDQUFXLEdBQVgsVUFBWSxLQUFtQjtRQUM3QixJQUNFLEtBQUssQ0FBQyxHQUFHO1lBQ1QsS0FBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQztZQUNsQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQ2pDO1lBQ0EsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUNILDZCQUFDO0FBQUQsQ0FBQyxBQXBCRCxDQUE0QyxxQkFBcUIsR0FvQmhFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV2luZG93SW50ZXJydXB0U291cmNlIH0gZnJvbSAnLi93aW5kb3dpbnRlcnJ1cHRzb3VyY2UnO1xuXG4vKlxuICogQW4gaW50ZXJydXB0IHNvdXJjZSBvbiB0aGUgc3RvcmFnZSBldmVudCBvZiBXaW5kb3cuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdG9yYWdlSW50ZXJydXB0U291cmNlIGV4dGVuZHMgV2luZG93SW50ZXJydXB0U291cmNlIHtcbiAgY29uc3RydWN0b3IodGhyb3R0bGVEZWxheSA9IDUwMCkge1xuICAgIHN1cGVyKCdzdG9yYWdlJywgdGhyb3R0bGVEZWxheSk7XG4gIH1cblxuICAvKlxuICAgKiBDaGVja3MgdG8gc2VlIGlmIHRoZSBldmVudCBzaG91bGQgYmUgZmlsdGVyZWQuXG4gICAqIEBwYXJhbSBldmVudCAtIFRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QuXG4gICAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgZXZlbnQgc2hvdWxkIGJlIGZpbHRlcmVkIChkb24ndCBjYXVzZSBhbiBpbnRlcnJ1cHQpOyBvdGhlcndpc2UsIGZhbHNlLlxuICAgKi9cbiAgZmlsdGVyRXZlbnQoZXZlbnQ6IFN0b3JhZ2VFdmVudCk6IGJvb2xlYW4ge1xuICAgIGlmIChcbiAgICAgIGV2ZW50LmtleSAmJlxuICAgICAgZXZlbnQua2V5LmluZGV4T2YoJ25nMklkbGUuJykgPj0gMCAmJlxuICAgICAgZXZlbnQua2V5LmluZGV4T2YoJy5leHBpcnknKSA+PSAwXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG4iXX0=