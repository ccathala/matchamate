import { WindowInterruptSource } from './windowinterruptsource';
/*
 * An interrupt source on the storage event of Window.
 */
export class StorageInterruptSource extends WindowInterruptSource {
    constructor(throttleDelay = 500) {
        super('storage', throttleDelay);
    }
    /*
     * Checks to see if the event should be filtered.
     * @param event - The original event object.
     * @return True if the event should be filtered (don't cause an interrupt); otherwise, false.
     */
    filterEvent(event) {
        if (event.key &&
            event.key.indexOf('ng2Idle.') >= 0 &&
            event.key.indexOf('.expiry') >= 0) {
            return false;
        }
        return true;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmFnZWludGVycnVwdHNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuZy1pZGxlL2NvcmUvIiwic291cmNlcyI6WyJsaWIvc3RvcmFnZWludGVycnVwdHNvdXJjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUVoRTs7R0FFRztBQUNILE1BQU0sT0FBTyxzQkFBdUIsU0FBUSxxQkFBcUI7SUFDL0QsWUFBWSxhQUFhLEdBQUcsR0FBRztRQUM3QixLQUFLLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsV0FBVyxDQUFDLEtBQW1CO1FBQzdCLElBQ0UsS0FBSyxDQUFDLEdBQUc7WUFDVCxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDO1lBQ2xDLEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFDakM7WUFDQSxPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXaW5kb3dJbnRlcnJ1cHRTb3VyY2UgfSBmcm9tICcuL3dpbmRvd2ludGVycnVwdHNvdXJjZSc7XG5cbi8qXG4gKiBBbiBpbnRlcnJ1cHQgc291cmNlIG9uIHRoZSBzdG9yYWdlIGV2ZW50IG9mIFdpbmRvdy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0b3JhZ2VJbnRlcnJ1cHRTb3VyY2UgZXh0ZW5kcyBXaW5kb3dJbnRlcnJ1cHRTb3VyY2Uge1xuICBjb25zdHJ1Y3Rvcih0aHJvdHRsZURlbGF5ID0gNTAwKSB7XG4gICAgc3VwZXIoJ3N0b3JhZ2UnLCB0aHJvdHRsZURlbGF5KTtcbiAgfVxuXG4gIC8qXG4gICAqIENoZWNrcyB0byBzZWUgaWYgdGhlIGV2ZW50IHNob3VsZCBiZSBmaWx0ZXJlZC5cbiAgICogQHBhcmFtIGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdC5cbiAgICogQHJldHVybiBUcnVlIGlmIHRoZSBldmVudCBzaG91bGQgYmUgZmlsdGVyZWQgKGRvbid0IGNhdXNlIGFuIGludGVycnVwdCk7IG90aGVyd2lzZSwgZmFsc2UuXG4gICAqL1xuICBmaWx0ZXJFdmVudChldmVudDogU3RvcmFnZUV2ZW50KTogYm9vbGVhbiB7XG4gICAgaWYgKFxuICAgICAgZXZlbnQua2V5ICYmXG4gICAgICBldmVudC5rZXkuaW5kZXhPZignbmcySWRsZS4nKSA+PSAwICYmXG4gICAgICBldmVudC5rZXkuaW5kZXhPZignLmV4cGlyeScpID49IDBcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiJdfQ==